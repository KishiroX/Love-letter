<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Para kay Vanessa üíï</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        html {
            height: 100%;
            height: -webkit-fill-available;
        }
        
        body {
            font-family: 'Crimson Text', serif;
            background: linear-gradient(-45deg, #f4e8d8, #e8d5c4, #f5e6d3, #e8cfb8);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 20px;
            overflow: hidden;
            touch-action: manipulation;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(-45deg, #f4e8d8, #e8d5c4, #f5e6d3, #e8cfb8);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-heart {
            font-size: 80px;
            animation: loadingHeartbeat 1.2s ease-in-out infinite;
            margin-bottom: 40px;
        }
        
        @keyframes loadingHeartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.3); }
            50% { transform: scale(1); }
            75% { transform: scale(1.15); }
        }
        
        .loading-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: #6b4423;
            font-style: italic;
            margin-bottom: 15px;
            text-align: center;
            padding: 0 20px;
        }
        
        .loading-subtext {
            font-family: 'Crimson Text', serif;
            font-size: 1.1em;
            color: #8b6f47;
            margin-bottom: 50px;
            text-align: center;
            padding: 0 20px;
        }
        
        .progress-container {
            width: 80%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 8px;
            box-shadow: 0 4px 15px rgba(101, 67, 33, 0.2);
            margin-bottom: 15px;
        }
        
        .progress-bar {
            height: 20px;
            background: linear-gradient(90deg, #8b0000, #d4af37, #8b0000);
            background-size: 200% 100%;
            border-radius: 15px;
            width: 0%;
            transition: width 0.1s ease;
            animation: progressShine 2s ease infinite;
            box-shadow: 0 2px 8px rgba(139, 0, 0, 0.4);
        }
        
        @keyframes progressShine {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .progress-text {
            font-family: 'Playfair Display', serif;
            color: #6b4423;
            font-size: 1em;
            font-weight: 600;
            text-align: center;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139, 101, 71, 0.03) 2px, rgba(139, 101, 71, 0.03) 4px);
            pointer-events: none;
            z-index: 1;
        }
        
        .floating-heart {
            position: fixed;
            font-size: 20px;
            opacity: 0;
            animation: floatUp 12s infinite ease-in;
            pointer-events: none;
            z-index: 2;
        }
        
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0) rotate(0deg); opacity: 0; }
            10% { opacity: 0.3; }
            50% { opacity: 0.5; transform: translateY(50vh) scale(1) rotate(180deg); }
            90% { opacity: 0.3; }
            100% { transform: translateY(-10vh) scale(0.5) rotate(360deg); opacity: 0; }
        }
        
        .sparkle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #d4af37 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            animation: sparkleAnimation 3s infinite;
            opacity: 0;
        }
        
        @keyframes sparkleAnimation {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        .petal {
            position: fixed;
            font-size: 18px;
            animation: fall 10s infinite ease-in;
            pointer-events: none;
            z-index: 2;
            opacity: 0.5;
        }
        
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        
        .envelope-scene {
            position: relative;
            z-index: 10;
            animation: fadeInBounce 1.5s ease-out;
        }
        
        @keyframes fadeInBounce {
            0% { opacity: 0; transform: scale(0.5); }
            60% { transform: scale(1.05); }
            80% { transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .envelope-large {
            position: relative;
            width: 90vw;
            max-width: 400px;
            height: 256px;
            background: linear-gradient(to bottom, #f5e6d3 0%, #e8d4bf 100%);
            border: 2px solid #c9a882;
            border-radius: 8px;
            box-shadow: 0 15px 40px rgba(101, 67, 33, 0.4);
            cursor: pointer;
            transition: transform 0.3s ease;
            touch-action: manipulation;
        }
        
        .envelope-large:active:not(.opened) {
            transform: scale(0.98);
        }
        
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 45vw solid transparent;
            border-right: 45vw solid transparent;
            border-top: 128px solid #c9a882;
            max-width: 400px;
            transform-origin: top center;
            transition: transform 1s ease;
            z-index: 5;
        }
        
        @media (min-width: 445px) {
            .envelope-flap {
                border-left: 200px solid transparent;
                border-right: 200px solid transparent;
            }
        }
        
        .envelope-large.opened .envelope-flap {
            transform: translateX(-50%) rotateX(180deg);
        }
        
        .wax-seal {
            position: absolute;
            top: 112px;
            left: 50%;
            transform: translateX(-50%);
            width: 56px;
            height: 56px;
            background: radial-gradient(circle, #8b0000 0%, #5c0000 100%);
            border-radius: 50%;
            border: 3px solid #6b0000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #d4af37;
            font-size: 32px;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            z-index: 100;
            transition: all 0.5s ease;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: translateX(-50%) scale(1); }
            25% { transform: translateX(-50%) scale(1.1); }
            50% { transform: translateX(-50%) scale(1); }
            75% { transform: translateX(-50%) scale(1.05); }
        }
        
        .envelope-large.opened .wax-seal {
            opacity: 0;
            transform: translateX(-50%) scale(0);
        }
        
        .click-hint {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            color: #8b6f47;
            font-size: 1em;
            font-style: italic;
            animation: pulseGlow 2s infinite;
            transition: opacity 0.3s ease;
            white-space: nowrap;
        }
        
        @keyframes pulseGlow {
            0%, 100% { opacity: 1; transform: translateX(-50%) scale(1); text-shadow: 0 0 5px rgba(139, 111, 71, 0.3); }
            50% { opacity: 0.4; transform: translateX(-50%) scale(1.05); text-shadow: 0 0 10px rgba(139, 111, 71, 0.5); }
        }
        
        .envelope-large.opened .click-hint {
            opacity: 0;
            pointer-events: none;
        }
        
        .envelope-inside {
            position: absolute;
            top: 20%;
            left: 0;
            width: 100%;
            height: 118px;
            display: flex;
            flex-direction: column;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease 0.8s;
            padding: 12px 15px 15px 15px;
            gap: 12px;
        }
        
        .envelope-large.opened .envelope-inside {
            opacity: 1;
            pointer-events: all;
            animation: slideUp 0.5s ease-out 0.8s backwards;
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .choice-card {
            flex: 1;
            background: linear-gradient(to bottom, #fefaf5 0%, #f5ebe0 100%);
            border: 2px solid #c9a882;
            border-radius: 12px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 6px 16px rgba(101, 67, 33, 0.3);
            touch-action: manipulation;
            min-height: 55px;
            padding: 12px 20px;
        }
        
        .choice-card:active {
            transform: scale(0.95);
            background: #fffbf7;
            box-shadow: 0 3px 10px rgba(101, 67, 33, 0.3);
        }
        
        .choice-icon {
            font-size: 36px;
            flex-shrink: 0;
            animation: iconFloat 2s ease-in-out infinite;
        }
        
        @keyframes iconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .choice-label {
            font-family: 'Playfair Display', serif;
            font-size: 1.15em;
            color: #6b4423;
            font-style: italic;
            font-weight: 600;
            letter-spacing: 0.3px;
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: flex-start;
            z-index: 1000;
            padding: 0;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .modal.show {
            display: flex;
            animation: fadeIn 0.4s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .letter-paper {
            background: linear-gradient(to bottom, #fefcf8 0%, #f8f4ed 100%);
            width: 100%;
            max-width: 600px;
            padding: 60px 25px 40px 25px;
            border: none;
            position: relative;
            font-family: 'Crimson Text', serif;
            color: #3d2817;
            line-height: 1.8;
            min-height: 100vh;
            animation: paperSlide 0.6s ease-out;
        }
        
        @keyframes paperSlide {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .letter-paper::before,
        .letter-paper::after {
            content: '‚ù¶';
            position: absolute;
            font-size: 20px;
            color: #c9a882;
            animation: cornerPulse 2s ease-in-out infinite;
        }
        
        @keyframes cornerPulse {
            0%, 100% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
        }
        
        .letter-paper::before {
            top: 15px;
            left: 15px;
        }
        
        .letter-paper::after {
            bottom: 15px;
            right: 15px;
        }
        
        .letter-paper h2 {
            font-family: 'Playfair Display', serif;
            text-align: center;
            color: #6b4423;
            font-size: 1.6em;
            margin-bottom: 25px;
            font-style: italic;
        }
        
        .letter-paper p {
            margin-bottom: 18px;
            font-size: 1.05em;
            text-align: justify;
            line-height: 1.7;
            animation: textFadeIn 0.8s ease-out backwards;
        }
        
        @keyframes textFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .letter-paper p:nth-child(3) { animation-delay: 0.1s; }
        .letter-paper p:nth-child(4) { animation-delay: 0.2s; }
        .letter-paper p:nth-child(5) { animation-delay: 0.3s; }
        .letter-paper p:nth-child(6) { animation-delay: 0.4s; }
        .letter-paper p:nth-child(7) { animation-delay: 0.5s; }
        
        .signature {
            text-align: right;
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.15em;
            margin-top: 35px;
            color: #6b4423;
            animation: signatureFade 1s ease-out 0.6s backwards;
        }
        
        @keyframes signatureFade {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .close-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            background: #8b6f47;
            color: #fefcf8;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 10;
            touch-action: manipulation;
        }
        
        .close-btn:active {
            transform: scale(0.95);
            background: #6b4423;
        }
        
        .gallery-container {
            width: 100%;
            min-height: 100vh;
            padding-top: 70px;
            padding-bottom: 30px;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            padding: 0 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .gallery-photo {
            background: #fefcf8;
            padding: 12px 12px 45px 12px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid #d4c4b0;
            touch-action: manipulation;
            animation: photoFadeIn 0.6s ease-out backwards;
        }
        
        .gallery-photo:nth-child(1) { animation-delay: 0.1s; }
        .gallery-photo:nth-child(2) { animation-delay: 0.2s; }
        .gallery-photo:nth-child(3) { animation-delay: 0.3s; }
        .gallery-photo:nth-child(4) { animation-delay: 0.4s; }
        .gallery-photo:nth-child(5) { animation-delay: 0.5s; }
        .gallery-photo:nth-child(6) { animation-delay: 0.6s; }
        
        @keyframes photoFadeIn {
            from { opacity: 0; transform: scale(0.9) rotate(-2deg); }
            to { opacity: 1; transform: scale(1) rotate(0deg); }
        }
        
        .gallery-photo:active {
            transform: scale(0.98);
        }
        
        .gallery-photo img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            filter: sepia(0.2);
        }
        
        .photo-caption {
            text-align: center;
            margin-top: 12px;
            font-family: 'Playfair Display', serif;
            color: #6b4423;
            font-style: italic;
            font-size: 0.95em;
        }
        
        .photo-zoom {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            touch-action: manipulation;
        }
        
        .photo-zoom.show {
            display: flex;
            animation: fadeIn 0.3s ease-in;
        }
        
        .photo-zoom img {
            max-width: 95%;
            max-height: 95%;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            border: 8px solid #fefcf8;
            animation: zoomIn 0.4s ease-out;
        }
        
        @keyframes zoomIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        @media (min-width: 500px) {
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .gallery-photo img {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-heart">üíï</div>
        <div class="loading-text">Para kay Vanessa</div>
        <div class="loading-subtext">Preparing something special...</div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">2 Years Together</div>
    </div>
    
    <div class="envelope-scene">
        <div class="envelope-large" id="envelope" onclick="openEnvelope()">
            <div class="envelope-flap"></div>
            <div class="wax-seal">‚ù§</div>
            <div class="envelope-inside">
                <div class="choice-card" onclick="event.stopPropagation(); openLetter()">
                    <div class="choice-icon">‚úâÔ∏è</div>
                    <div class="choice-label">Read Letter</div>
                </div>
                <div class="choice-card" onclick="event.stopPropagation(); openGallery()">
                    <div class="choice-icon">üì∏</div>
                    <div class="choice-label">View Memories</div>
                </div>
            </div>
            <div class="click-hint">Tap to open</div>
        </div>
    </div>
    
    <div class="modal" id="letterModal">
        <div class="letter-paper">
            <button class="close-btn" onclick="closeLetter()">√ó</button>
            <h2>Para kay Vanessa, ang aking mahal üíï</h2>
            <p><strong>Hi my love,</strong></p>
            <p>2 year na din ang tinagal natin, di pa rin ako makapaniwala na girlfriend kita until now. Parang sobrang fresh pa rin sa'ken yung times na nagsisimula pa lang tayo. Kinikilig pa din ako every time na tinitignan ko old pics natin at di maalis sa isip ko na grabe na rin yung milestone natin lalo kana mag-work ka na! Super proud ako sayo matagal mo na din gusto yung ganyang experience, masaya ako na social work field ang nakuha mong work.</p>
            <p>Pasensya ka na kung sa relationship natin ako madalas na magtampo, ewan ko ba bakit di ko na maalis 'to ganon. Nakita kasi mahal, at di rin maalis sa'ken na marami ka nang ganap at umaangat ka na, napapag-iwanan na 'ko ng lahat. Sana habang umaangat ka my love, wag mo 'kong iiwanan at kakalimutan ah? Sobrang busy mo lately and ako naman nag-code lang at naglalaro-laro kaya wag ka mag-alala, nakapag-adjust na 'ko.</p>
            <p>Binago mo 'ko physically and mentally, pero yung emotional intelligence ko di ko ma-enhance and how to comfort you. All I can give is my love and support. Pasensya ka na bilang boyfriend mo, andami ko rin pagkukulang sayo. Hayaan mo, ginagawan ko rin ng paraan para makabawi kahit sa simpleng bagay lang.</p>
            <p>Mahal na mahal kita my love! Can't wait na maging asawa at maging pamilya na tayo. Sobrang saya ko na ikaw makakasama ko habang buhay, di ko rin ma-express yung nararamdaman kong saya sa'yo. Gusto na gusto kita makasama araw-araw, di ko na rin maantay yon my love.</p>
            <p>Happy 2 years sa'tin! Let's cherish our days together. No worries if di natin ma-celebrate ng magkasama ang anniv kasi araw-araw naman para sa'kin celebration na din na hanggang ngayon eto tayo, na tayo pa din.</p>
            <div class="signature">
                Mahal na mahal kita, o kiss kita dami soon my love üíã<br>
                Your forever ‚ù§Ô∏è
            </div>
        </div>
    </div>
    
    <div class="modal" id="galleryModal">
        <button class="close-btn" onclick="closeGallery()">√ó</button>
        <div class="gallery-container">
            <div class="gallery-grid">
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-1.jpg" alt="Memory 1">
                    <div class="photo-caption">Where it all began</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-2.jpg" alt="Memory 2">
                    <div class="photo-caption">A moment frozen in time</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-3.jpg" alt="Memory 3">
                    <div class="photo-caption">Forever my favorite</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-4.jpg" alt="Memory 4">
                    <div class="photo-caption">Our perfect day</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-5.jpg" alt="Memory 5">
                    <div class="photo-caption">Together always</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-6.jpg" alt="Memory 6">
                    <div class="photo-caption">My heart is yours</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-7.jpg" alt="Memory 7">
                    <div class="photo-caption">Always be my baby</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-8.jpg" alt="Memory 8">
                    <div class="photo-caption">Miss you every single time</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-9.jpg" alt="Memory 9">
                    <div class="photo-caption">I loveyou always</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-10.jpg" alt="Memory 10">
                    <div class="photo-caption">My favorite part of the story</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-11.jpg" alt="Memory 11">
                    <div class="photo-caption">My light in the darkness</div>
                </div>
                <div class="gallery-photo" onclick="zoomPhoto(this)">
                    <img src="images/memory-12.jpg" alt="Memory 12">
                    <div class="photo-caption">My happy pill</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="photo-zoom" id="photoZoom" onclick="closeZoom()">
        <img id="zoomedImage" src="" alt="Zoomed photo">
    </div>
    
    <audio id="bgMusic" loop>
        <source src="audio/background-music.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        let musicPlaying = false;
        const music = document.getElementById('bgMusic');
        const envelope = document.getElementById('envelope');
        
        window.addEventListener('load', () => {
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const loadingScreen = document.getElementById('loadingScreen');
            
            let progress = 0;
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(loadingInterval);
                    progressText.textContent = 'Ready! üíù';
                    
                    setTimeout(() => {
                        loadingScreen.classList.add('hidden');
                        music.play().then(() => {
                            musicPlaying = true;
                        }).catch(() => {});
                    }, 800);
                }
            }, 150);
        });
        
        function preventScroll(prevent) {
            if (prevent) {
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
            } else {
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }
        }
        
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 12000);
        }
        
        setInterval(createHeart, 3000);
        
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = Math.random() * 100 + '%';
            sparkle.style.top = Math.random() * 100 + '%';
            sparkle.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 3000);
        }
        
        setInterval(createSparkle, 1000);
        
        function createPetal() {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.innerHTML = 'üåπ';
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animationDelay = Math.random() * 5 + 's';
            petal.style.fontSize = (Math.random() * 8 + 14) + 'px';
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 10000);
        }
        
        setInterval(createPetal, 2000);
        
        function openEnvelope() {
            envelope.classList.toggle('opened');
            if (!musicPlaying) {
                music.play().then(() => {
                    musicPlaying = true;
                }).catch(() => {});
            }
        }
        
        function openLetter() {
            document.getElementById('letterModal').classList.add('show');
            preventScroll(true);
        }
        
        function closeLetter() {
            document.getElementById('letterModal').classList.remove('show');
            preventScroll(false);
        }
        
        function openGallery() {
            document.getElementById('galleryModal').classList.add('show');
            preventScroll(true);
        }
        
        function closeGallery() {
            document.getElementById('galleryModal').classList.remove('show');
            preventScroll(false);
        }
        
        function zoomPhoto(element) {
            const img = element.querySelector('img');
            document.getElementById('zoomedImage').src = img.src;
            document.getElementById('photoZoom').classList.add('show');
        }
        
        function closeZoom() {
            document.getElementById('photoZoom').classList.remove('show');
        }
    </script>
</body>
</html>